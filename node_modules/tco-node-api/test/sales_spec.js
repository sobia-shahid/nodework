var assert = require('assert'),
  tco = require('./spec_helper');


describe('sales', function(){

  describe('create()', function(){
    it('should create a sale', function(done){
      tco.sales.create(exampleSale, function (error, data) {
        assert.ok(data.id);
        assert.ok(data.invoices[0]);
        done();
      });
    });
  });

  describe('find()', function(){
    var sale;
    before(function(done){
      tco.sales.create(exampleSale, function (error, data) {
        sale = data;
        done();
      });
    });
    it('should return a sale', function(done){
      tco.sales.find(sale.id, function (error, data) {
        assert.equal(sale.id, data.id);
        done();
      });
    });
  });

  describe('list()', function() {
    it('should return a list of sales', function(done){
      tco.sales.list(pagenation, function (error, data) {
        assert.ok(data.sales);
        assert.ok(data.sales.length > 0);
        done();
      });
    });
  });

});
